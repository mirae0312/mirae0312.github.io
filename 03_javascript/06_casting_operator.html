<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>casting | operator</title>
</head>
<body>
    <h1>casting</h1>
    <button onclick="test1();">실행</button>
    <button onclick="test2();">Number | parseInt | parseFloat</button>
    <fieldset>
        <legend>a + b</legend>
        <!-- label[for=a]+input:number#a[placeholder="숫자a를 입력하세요."] -->
        <label for="a">a</label>
        <input type="number" id="a" placeholder="숫자a를 입력하세요.">
        <br>
        <label for="b">b</label>
        <input type="number" id="b" placeholder="숫자b를 입력하세요.">
        <br>
        <button onclick="test3();">확인</button>
    </fieldset>

    <button onclick="test4();">boolean타입으로 형변환</button>
    <script>
    /**
     * boolean타입으로 형변환
     * 
     * true : 값이 있는 것
     *  "abc" 123 array object
     * false : 값이 없는 것
     *  "" 0 undefined null NaN
     */
    function test4() {
        console.log(Boolean("abc"), Boolean("false"), Boolean(123), Boolean(-10)); //true
        console.log(Boolean(""), Boolean(0), Boolean(undefined), Boolean(null), Boolean(NaN)); //false
    
        // 사용자가 b의 값을 입력했는지여부
        if(b.value){
            console.log("b의 값을 입력함", b.value);
        }
        else {
            console.log("b의 값을 입력하지 않음.")
        }

        // 특정요소 존재여부
        const elem = document.querySelector("#aaa");
        console.log(elem);
        if(!elem){
            const h1 = document.createElement("h1");
            h1.id = "aaa";
            h1.innerHTML = "안녕";
            document.body.append(h1);
        }
    }    

    /**
     * 사용자입력 숫자 a,b의 합을 구해서 경고창을 출력
     */
    function test3() {
        // const valA = a.value; // value속성은 무조건 string
        const valA = Number(a.value); // Number()을 꼭 써줘야함
        const valB = Number(b.value);
        alert(`${valA + valB}`);
    }

    /**
     * Number 숫자(정수, 실수)로 변환. 숫자 아닌 문자가 포함되면 NaN을 리턴.
     * 
     * parseInt 정수로 변환. 숫자 아닌 문자가 나오기전까지 변환. 아예 불가시 NaN을 리턴.
     * parseFloat 실수로 변환. 숫자 아닌 문자가 나오기전까지 변환. 아예 불가시 NaN을 리턴.
     */
    function test2() {
        const n = "$123.456";
        n = n.replace(/[^0-9.]/g, ''); // 숫자가 아닌 문자를 제거하는 정규표현식
        console.log(n);
                                                          // 123.456  123.456원  $123.456
        console.log(Number(n), typeof Number(n));         // 123.456  NaN        NaN
        console.log(parseInt(n), typeof parseInt(n));     // 123      123        NaN
        console.log(parseFloat(n), typeof parseFloat(n)); // 133.456  123.456    NaN

    }

    function test1() {
        let n = 3 + "3"; //33 string
        console.log(n, typeof n);
        n = 3 + 3 + "3"; //63 string
        console.log(n, typeof n);

        n = 3 - "3"; // 3 - 3 자동형변환
        console.log(n, typeof n); // 0 'number' 
        n = 3 * "3"; 
        console.log(n, typeof n); // 9 'number'
        n = 3 / "3"; 
        console.log(n, typeof n); // 1 'number'
        n = 3 % "3"; 
        console.log(n, typeof n); // 0 'number'

        n = 3 - "a"; // 3 - NaN(Not a number)
        console.log(n, typeof n); // NaN 'number'

        // 비교연산
        console.log(3 == "3"); // 3==3 true
        console.log(3 != "3"); // 3==3 false

        // 엄격비교연산자
        // 자동형변환 없이 값과 타입이 모두 일치해야 true를 리턴
        console.log(3 === "3"); // false
        // 값과 타입중 하나라도 다르다면 true를 리턴
        console.log(3 !== "3"); // true
    }
    </script>

    <h1>operator</h1>
    <button onclick="test5();">실행</button>
    <button onclick="test6();">|| 값대입</button>
    <script>
    /**
     * k = (a || b);
     * - a가 값이 있다면 k에 a를 대입
     * - a에 값이 없다면(false), 우항의 b를 k에 대입.
     *      - undefined, null, 0, '', NaN
     */
    function test6() {
        const k = document.querySelector("#aaa") || document.querySelector("#b");
        console.log(k);

        const n = "33";
        const r = 33 - n || 33 + n;
        console.log(r);
    }
    
    /**
     * 짧은 조건문
     * (조건식) && (참일때 실행문)
     * 
     * (조건식) || (거짓일때 실행문)
     * 
     * - 대입문도 가능
     * -- return 처리 불가능
     */
    function test5() {
        const n = Math.floor(Math.random() * 10);
        console.log(n);

        // n % 2 == 0 && alert(`${n}은 짝수입니다.`);
        // n % 2 == 0 || alert(`${n}은 홀수입니다.`);
        
        let result = '';
        n >= 5 && (result = "Big Number!");
        console.log(result);
    }
    </script>




    <br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
</body>
</html>