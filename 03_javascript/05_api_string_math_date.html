<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>api</title>
</head>
<body>
    <h1>string</h1>
    <button onclick="test1();">실행</button>
    <button onclick="test2();">영화제목입력</button>
    <script>
    /**
     * @실습문제 : 사용자로부터 영화제목을 입력받고, 알파벳의 개수를 출력
     * Inception(9글자), 난 mc.donald가 좋아~(영어개수)
     */
        function test2() {
            const movie = prompt("영화 제목 : ");
            if(movie){
                let cnt = 0;
                for(let i = 0; i < movie.length; i++){
                    const ch = movie[i];
                    if(ch >= 'A' && ch <= 'Z')
                        cnt++;
                    if(ch >= 'a' && ch <= 'z')
                        cnt++;
                }
                // string Template `${js공간}` 홑따옴표X 1번키 옆 ``틸드
                alert(`입력하신 문자열중 알파벳의 개수는 ${cnt}개 입니다.`);
                // alert("입력하신 문자열중 알파벳의 개수는 " + cnt + "개 입니다.");
            }


        //내 풀이
        //     for(let i = 0; i < movie.length; i++){
        //         if(movie > 64 && movie < 91 || movie > 96 && movie < 123) {
        //             count += 1;   
        //         }
        //         else {
        //             alert("영화제목을 입력해주세요.");
        //         }
        //         alert(count + "글자입니다.");
        // }
    }

    /**
     * string내장객체
     */
        function test1() {
            const str = "Apple Samsung Pineapple";
            console.log(str.length); // str길이 23 
            console.log(str.charAt(1)); // 1번지글자 p
            console.log(str[1]); // 1번지글자 p
            console.log(str.indexOf("app")); // 특정문자의 위치 18
            console.log(str.indexOf("bpp")); // 존재하지않는 문자 -1리턴

            // 잘라내기
            // str.substring(startIndex[, endIndex]): stratIndex부터 endIndex전까지 문자열 반환
            console.log(str.substring(6, 9)); //6번지부터 9번지까지 Sam

            // str.substr(startIndex[, length]): startIndex부터 length개 문자열반환
            console.log(str.substr(6, 3)); //6번지에서 3개 Sam

            // 토큰처리
            const arr = str.split(" "); // " "공백기준으로 잘라줌
            console.log(arr, typeof arr); // 배열과 배열타입
        }

    </script>

    <h1>math</h1>
    <button onclick="test3();">실행</button>
    <button onclick="test4();">@실습문제</button>
    <ul id="nums">
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
    </ul>
    
    <script>
    /**
     * @실습문제
     * #num하위의 li태그에 1~1000사이의 임의의 수를 대입하고,
     * 짝수인 경우에는 원하는 컬러로 지정한다.
     * queryselectorAll이용
     */
    function test4() {
        const list = document.querySelectorAll("#nums li");
        for(let i = 0; i < list.length; i++){
            const li = list[i];
            li.style.color = ""; // 컬러초기화. 초기화를 안해주면 여러번 눌렀을때 전부 바뀜
            const n = Math.floor(Math.random() * 1000) + 1;
            li.innerHTML = n;

            if(n % 2 == 0)
                li.style.color = 'red';

        }
    }

    /**
     * 반올림/올림/버림 처리
     * 
     * 난수생성
     */
    function test3() {
        const n = 123.456;
        console.log(Math.round(n)); // 123
        console.log(Math.round(n * 100) / 100); //123.46

        console.log(Math.ceil(n));
        console.log(Math.floor(n));

        console.log(Math.random()); // 0.0이상 1.0미만의 실수를 리턴

        // 1 ~ 10사이의 난수(정수) 생성
        // floor를 이용해 소숫점이하를 다버려줘야함    
        console.log(Math.floor(Math.random() * 10 + 1)); // 0~9에서 +1을 해줌
    }
    </script>

    <h1>date</h1>
    <button onclick="test5();">실행</button>

    <!-- 시계만들기 -->
    <h1 style="color: tomato; text-align: center;" id="clock"></h1>
    <script>
    function displayClock() {
        // 함수안의 함수 00만들기
        const f = function(n) {
            return n < 10 ? `0${n}` : n;
        }
        const now = new Date();
        const year = now.getFullYear();
        const mm = f(now.getMonth() + 1);
        const date = f(now.getDate());
        const hour = f(now.getHours());
        const minute = f(now.getMinutes());
        const second = f(now.getSeconds());

        return `${year}-${mm}-${date} ${hour}:${minute}:${second}`;
    }
    /**
     * 즉시 실행함수 Immediately Invoked Function Expression IIFE
     */
    //시계움직이기
    (function repeatClock() { // 선언
        clock.innerHTML = displayClock();
        setTimeout(repeatClock, 1000); // callback함수를 1초(1000밀리초)후 실행
    })(); //▼ IIFE 선언과동시에 호출

    // repeatClock(); // 호출. 호출하지않으면 실행X
    
    /**
     * Date 날짜/시각정보를 관리하는 객체
     * 기본생성자를 사용하면 현재시각정보를 가지고 있다.
     */ 
    function test5() {
        const today = new Date();
        console.log(today); // os를 통해 현재시각정보

        // mm는 0부터시작 -1해줘야함
        const dday = new Date(2021, 12 - 1, 25, 0, 30, 20); // 년 월 일 시 분 초
        console.log(dday);

        const holiday = new Date("2021-10-29");
        console.log(holiday);

        // unix time(epoch time) -- 1970년 1월 1일 자정 기준으로 누적된 millis초
        console.log(new Date().getTime());
        console.log(Date.now());

    }
    </script>

</body>
</html>